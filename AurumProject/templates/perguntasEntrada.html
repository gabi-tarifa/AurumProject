<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <title>Aurum - Vamos Começar</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/perguntasEntrada.css') }}">
    <link rel="shortcut icon" href="https://cdn-icons-png.flaticon.com/128/3975/3975233.png" type="image/x-icon">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
   
</head>
<body>
    <div id="app"></div>

    <script src="https://cdn.jsdelivr.net/npm/vue@2"></script>
    <script>
        new Vue({
            el: '#app',
            delimiters: ['[[', ']]'],
            template: `
                <div id="container">
                    <main class="quiz-container">
                        <h1>Teste sobre Conhecimento Financeiro</h1>
                        <h3 id="progessaoPerguntas">0/12</h3>
                        <p class="progress-label">{{ progressLabel }}</p>
                        
                        <h2>[[ perguntaAtual.desc_pergunta ]]</h2>

                        <div class="progress">
                            <div class="progress-bar" role="progressbar" 
                                 :style="{ width: progressPercentage + '%' }" 
                                 :aria-valuenow="progressPercentage" 
                                 aria-valuemin="0" 
                                 aria-valuemax="100">
                            </div>
                        </div>
                        <div class="options">
                            <button
                                v-for="(opcao, index) in respostas[i_pergunta_atual].desc_respostas"
                                :key="index"
                                @click="responderPergunta(index + 1)"
                                class="option"
                            >
                            [[ opcao ]]
                        </button>
                        </div>
                    </main>
                </div>
            `,
            data() {
                return {
                    perguntas: [
                        { numero_pergunta: 1, desc_pergunta: "Quando ocorre inflação, significa que:", resposta_pergunta: 0 },
                        { numero_pergunta: 2, desc_pergunta: "Ao optar pelo uso do cartão de débito em vez do crédito, a principal vantagem:", resposta_pergunta: 0 },
                        { numero_pergunta: 3, desc_pergunta: "Quando os gastos de uma família são maiores do que sua renda mensal, o resultado mais provável é:", resposta_pergunta: 0 },
                        { numero_pergunta: 4, desc_pergunta: "Uma reserva de emergência bem estruturada deve ser:", resposta_pergunta: 0 },
                        { numero_pergunta: 5, desc_pergunta: "O uso frequente do cheque especial pode indicar que:", resposta_pergunta: 0 },
                        { numero_pergunta: 6, desc_pergunta: "Qual das opções abaixo é considerada uma despesa recorrente e previsível, independentemente do consumo variável?", resposta_pergunta: 0 },
                        { numero_pergunta: 7, desc_pergunta: "O princípio de diversificação de investimentos está relacionado a:", resposta_pergunta: 0 },
                        { numero_pergunta: 8, desc_pergunta: "Quando uma pessoa recebe seu pagamento no fim do mês, o valor disponível para gastar depois dos descontos obrigatórios corresponde a:", resposta_pergunta: 0 },
                        { numero_pergunta: 9, desc_pergunta: "Entre as opções abaixo, qual apresenta melhor potencial de rendimento a longo prazo em comparação à poupança?", resposta_pergunta: 0 },
                        { numero_pergunta: 10, desc_pergunta: "Um gasto pode ser classificado como supérfluo quando:", resposta_pergunta: 0 },
                        { numero_pergunta: 11, desc_pergunta: "Quando uma dívida é cobrada com juros compostos, isso significa que:", resposta_pergunta: 0 },
                        { numero_pergunta: 12, desc_pergunta: "Manter um orçamento pessoal atualizado serve, principalmente, para:", resposta_pergunta: 0 }
                    ],
                    respostas: [
                        {
                        numero_resposta: 1,
                            desc_respostas: [
                                "O poder de compra do dinheiro aumenta",
                                "Há um aumento generalizado e contínuo dos preços", // correta (posição 2)
                                "Os preços de alguns produtos caem de forma isolada",
                                "Os bancos elevam as taxas de empréstimo por decisão própria"
                            ]
                        },
                        {
                            numero_resposta: 2,
                            desc_respostas: [
                                "Permitir realizar compras mesmo sem saldo disponível",
                                "Evitar dívidas, já que o pagamento ocorre no momento da transação", // correta (posição 2)
                                "Garantir programas de pontos mais vantajosos",
                                "Ampliar o limite de crédito oferecido pelo banco"
                            ]
                        },
                        {
                            numero_resposta: 3,
                            desc_respostas: [
                                "Formação de patrimônio",
                                "Endividamento progressivo", // correta (posição 2)
                                "Maior capacidade de poupança",
                                "Estabilidade financeira"
                            ]
                        },
                        {
                            numero_resposta: 4,
                            desc_respostas: [
                                "Um valor equivalente ao salário líquido do mês",
                                "Um montante de fácil acesso que cubra de 3 a 6 meses das despesas essenciais", // correta (posição 2)
                                "O limite do cheque especial oferecido pelo banco",
                                "O valor que sobra após todas as despesas de lazer"
                            ]
                        },
                        {
                            numero_resposta: 5,
                            desc_respostas: [
                                "O consumidor está utilizando uma das linhas de crédito com juros mais altos do mercado", // correta (posição 1)
                                "O cliente encontrou uma forma de manter sempre saldo positivo",
                                "Trata-se de uma estratégia de investimento de baixo risco",
                                "É um método eficiente de construir reserva de emergência"
                            ]
                        },
                        {
                            numero_resposta: 6,
                            desc_respostas: [
                                "Aluguel da casa", // correta (posição 1)
                                "Conta de supermercado",
                                "Passeios de fim de semana",
                                "Compras de roupas"
                            ]
                        },
                        {
                            numero_resposta: 7,
                            desc_respostas: [
                                "Concentrar todo o capital em uma única aplicação para aumentar ganhos",
                                "Distribuir os recursos em diferentes opções, reduzindo riscos", // correta (posição 2)
                                "Guardar todo o dinheiro em um único banco para maior controle",
                                "Manter apenas aplicações de renda fixa para evitar perdas"
                            ]
                        },
                        {
                            numero_resposta: 8,
                            desc_respostas: [
                                "Salário bruto",
                                "Salário líquido", // correta (posição 2)
                                "Benefícios adicionais",
                                "Fundo de garantia"
                            ]
                        },
                        {
                            numero_resposta: 9,
                            desc_respostas: [
                                "Guardar em espécie em casa",
                                "Tesouro Direto ou CDB", // correta (posição 2)
                                "Conta corrente sem movimentação",
                                "Compra eventual de moedas estrangeiras"
                            ]
                        },
                        {
                            numero_resposta: 10,
                            desc_respostas: [
                                "É essencial para manter necessidades básicas",
                                "Está ligado a compromissos fixos, como moradia",
                                "Está associado a consumo de lazer ou luxo sem planejamento", // correta (posição 3)
                                "Não pode ser evitado de forma alguma"
                           ]
                       },
                       {
                           numero_resposta: 11,
                           desc_respostas: [
                               "O valor cresce somente sobre o montante inicial",
                               "Os juros incidem sobre o valor original e também sobre os juros acumulados anteriormente", // correta (posição 2)
                               "O valor total da dívida permanece inalterado, mesmo com o tempo",
                               "O pagamento dos juros é opcional, podendo ser adiado indefinidamente"
                           ]
                       },
                       {
                            numero_resposta: 12,
                            desc_respostas: [
                                "Monitorar entradas e saídas de dinheiro, evitando desequilíbrios financeiros", // correta (posição 1)
                                "Aumentar automaticamente o saldo bancário ao final do mês",
                                "Impedir cobranças de impostos anuais",
                                "Substituir a necessidade de uma reserva de emergência"
                            ]
                        }
                    ],
                    respostasCorretas: [2,2,2,2,1,1,2,2,2,3,2,1],
                    i_pergunta_atual: 0
                }
            },
            computed: {
                perguntaAtual() {
                    if (this.i_pergunta_atual >= this.perguntas.length) {
                        return this.perguntas[this.perguntas.length - 1]; 
                    }
                    return this.perguntas[this.i_pergunta_atual];
                },
                progressPercentage() {
                    if (this.perguntas.length === 0) return 0;
                    return ((this.i_pergunta_atual ) / this.perguntas.length) * 100;
                },
                progressLabel() {
                    return `${this.i_pergunta_atual + 1}/${this.perguntas.length}`;
                }
            },
            methods: {
                responderPergunta: function(resposta) {
                    this.perguntas[this.i_pergunta_atual].resposta_pergunta = resposta;
                    perguntasRespondidas = this.perguntas.filter(p => p.resposta_pergunta > 0).length;
                    totalPerguntas = this.perguntas.length;

                    if (this.i_pergunta_atual < this.perguntas.length - 1) {
                        this.i_pergunta_atual++;
                    } else {
                        this.perguntas.forEach((p, index) => {
                            const alternativa = p.resposta_pergunta;
                    });
                    let acertos = 0;
                    this.perguntas.forEach((p, index) => {
                        const respostaCorreta = this.respostasCorretas[index];
                        if (p.resposta_pergunta == respostaCorreta) {
                            acertos++;
                        }
                    });
                    sessionStorage.setItem('acertos', acertos);
                    window.location.href = "/pre-entrada";
                }
                    document.getElementById("progessaoPerguntas").textContent = perguntasRespondidas + "/" + totalPerguntas; 
                },getOptionDescription(value) {
                    const perguntaIndex = this.i_pergunta_atual;
                    const respostas = this.respostas[perguntaIndex].desc_respostas;
                    return respostas[value - 1];
                },
                getTotalPontuation(){


                }
            }
        })
    </script>
</body>
</html>