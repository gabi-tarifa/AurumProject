<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <title>Aurum - Vamos Começar</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/perguntasEntrada.css') }}">
    <link rel="shortcut icon" href="https://cdn-icons-png.flaticon.com/128/3975/3975233.png" type="image/x-icon">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
   
</head>
<body>
    <div id="app"></div>

    <script src="https://cdn.jsdelivr.net/npm/vue@2"></script>
    <script src="{{ url_for('static', filename='js/questionario_respostas.js') }}">
        /*new Vue({
            el: '#app',
            delimiters: ['[[', ']]'],
            template: `
                <div id="container">
                    <main class="quiz-container">
                        <h1>Teste sobre Conhecimento Financeiro</h1>
                        
                        <p class="progress-label">{{ progressLabel }}</p>
                        
                        <h2>[[ perguntaAtual.desc_pergunta ]]</h2>

                        <div class="progress">
                            <div class="progress-bar" role="progressbar" 
                                 :style="{ width: progressPercentage + '%' }" 
                                 :aria-valuenow="progressPercentage" 
                                 aria-valuemin="0" 
                                 aria-valuemax="100">
                            </div>
                        </div>
                        <div class="options">
                            <button
                                v-for="(opcao, index) in respostas[i_pergunta_atual].desc_respostas"
                                :key="index"
                                @click="responderPergunta(index + 1)"
                                class="option"
                            >
                            [[ opcao ]]
                        </button>
                        </div>
                    </main>
                </div>
            `,
            data() {
                return {
                    perguntas: [
                        { numero_pergunta: 1, desc_pergunta: "O que é um orçamento pessoal?", resposta_pergunta: 0 },
                        { numero_pergunta: 2, desc_pergunta: "Qual das opções abaixo é considerada uma despesa fixa?", resposta_pergunta: 0 },
                        { numero_pergunta: 3, desc_pergunta: "Quando você gasta mais do que ganha, isso é chamado de:", resposta_pergunta: 0 },
                        { numero_pergunta: 4, desc_pergunta: "O que significa \"guardar dinheiro na poupança\"", resposta_pergunta: 0 },
                        { numero_pergunta: 5, desc_pergunta: "Se você compra algo parcelado no cartão com juros, você está:", resposta_pergunta: 0 },
                        { numero_pergunta: 6, desc_pergunta: "O que é o \"juro composto\"?", resposta_pergunta: 0 },
                        { numero_pergunta: 7, desc_pergunta: "Qual é a principal vantagem de anotar seus gastos diários?", resposta_pergunta: 0 },
                        { numero_pergunta: 8, desc_pergunta: "O que significa \"renda variável\"?", resposta_pergunta: 0 },
                        { numero_pergunta: 9, desc_pergunta: "O que é o \"score de crédito\"?", resposta_pergunta: 0 },
                        { numero_pergunta: 10, desc_pergunta: "O que fazer primeiro ao receber o salário?", resposta_pergunta: 0 },
                        { numero_pergunta: 11, desc_pergunta: "Qual desses é um bom hábito financeiro?", resposta_pergunta: 0 },
                        { numero_pergunta: 12, desc_pergunta: "O que significa \"educação financeira\"", resposta_pergunta: 0 }
                    ],
                    respostas: [
                        {numero_resposta: 1, desc_respostas: [
                            "Um plano para gastar o máximo possível todo mês",
                            "Um registro de todas as receitas e despesas mensais",
                            "Um tipo de cartão de crédito",
                            "Um imposto sobre a renda"]},
                        {numero_resposta: 2, desc_respostas: [
                            "Conta de luz",
                            "Mensalidade da escola",
                            "Compra de roupas",
                            "Lazer de fim de semana"]},
                        {numero_resposta: 3, desc_respostas: [
                            "Superávit",
                            "Orçamento equilibrado",
                            "Endividamento",
                            "Investimento"]},
                        {numero_resposta: 4, desc_respostas: [
                            "Colocar o dinheiro debaixo do colchão",
                            "Gastar menos no cartão",
                            "Aplicar dinheiro em uma conta que rende juros",
                            "Comprar algo mais barato"]},
                        {numero_resposta: 5, desc_respostas: [
                            "Economizando",
                            "Fazendo um investimento",
                            "Pegando um empréstimo do banco",
                            "Recebendo um desconto"]},
                        {numero_resposta: 6, desc_respostas: [
                            "Juros pagos apenas uma vez",
                            "Juros que crescem sobre o valor inicial apenas",
                            "Juros calculados sobre o valor inicial e os juros anteriores",
                            "Uma taxa de imposto"]},
                        {numero_resposta: 7, desc_respostas: [
                            "Aumentar os lucros",
                            "Pagar menos impostos",
                            "Ter controle sobre o que foi gasto",
                            "Receber desconto nas compras"]},
                        {numero_resposta: 8, desc_respostas: [
                            "Salário fixo todo mês",
                            "Dinheiro que vem só de empréstimos",
                            "Investimentos que podem mudar de valor com o tempo",
                            "Contas a pagar"]},
                        {numero_resposta: 9, desc_respostas: [
                            "Nota de provas escolares",
                            "Número que representa sua reputação como consumidor",
                            "Senha do cartão",
                            "Valor dos seus investimentos"]},
                        {numero_resposta: 10, desc_respostas: [
                            "Comprar roupas",
                            "Pagar dívidas e guardar uma parte",
                            "Sair para comemorar",
                            "Investir tudo em criptomoedas"]},
                        {numero_resposta: 11, desc_respostas: [
                            "Usar todo o limite do cartão de crédito",
                            "Gastar sem registrar nada",
                            "Guardar uma parte do que recebe todo mês",
                            "Pedir dinheiro emprestado sempre que possível"]},
                        {numero_resposta: 12, desc_respostas: [
                            "Aprender a ganhar mais dinheiro sem trabalhar",
                            "Estudar como gastar todo o salário em diversão",
                            "Conhecimento para fazer boas escolhas com o dinheiro",
                            "Saber quando pedir dinheiro emprestado"]}
                    ],
                    respostasCorretas: [3,2,4,1,1,2,1,3,4,3,1,4],
                    i_pergunta_atual: 0
                }
            },
            computed: {
                perguntaAtual() {
                    if (this.i_pergunta_atual >= this.perguntas.length) {
                        return this.perguntas[this.perguntas.length - 1]; 
                    }
                    return this.perguntas[this.i_pergunta_atual];
                },
                progressPercentage() {
                    if (this.perguntas.length === 0) return 0;
                    return ((this.i_pergunta_atual ) / this.perguntas.length) * 100;
                },
                progressLabel() {
                    return `${this.i_pergunta_atual + 1}/${this.perguntas.length}`;
                }
            },
            methods: {
                responderPergunta: function(resposta) {
                    this.perguntas[this.i_pergunta_atual].resposta_pergunta = resposta;
                    var texto = "";

                    if (this.i_pergunta_atual < this.perguntas.length - 1) {
                        this.i_pergunta_atual++;
                    } else {
                        alert("Todas as perguntas foram respondidas.");
                        this.perguntas.forEach((p, index) => {
                            const alternativa = p.resposta_pergunta;
                            texto += (`Pergunta ${index + 1}: alternativa ${alternativa}\n`);
                    });
                    alert(texto);
                    let acertos = 0;
                    this.perguntas.forEach((p, index) => {
                        const respostaCorreta = this.respostasCorretas[index];
                        if (p.resposta_pergunta == respostaCorreta) {
                        acertos++;
                    }
                    });
                    alert(`Você acertou ${acertos} de ${this.perguntas.length} perguntas.`);
                    window.location.href = "/pre-entrada";}
                },getOptionDescription(value) {
                    const perguntaIndex = this.i_pergunta_atual;
                    const respostas = this.respostas[perguntaIndex].desc_respostas;
                    return respostas[value - 1];
                },
                getTotalPontuation(){


                }
            }
        })*/
    </script>
</body>
</html>